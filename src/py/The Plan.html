<html xmlns="http://www.w3.org/1999/xhtml"  lang="en-GB" xml:lang="en-GB">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<title>Agricultural Simulation Model Plan</title>
	<meta name="author" content="Ben Latham"/>
	<meta name="created" content="20160602;121500000000000"/>
	<meta name="changedby" content="Ben Latham"/>
	<meta name="changed" content="20160602;171400000000000"/>
	<link rel="stylesheet" type="text/css" href="style.css"/>
</head>
<body lang="en-GB" text="#00000a" dir="ltr">
<h1>The Plan:</h1>
<h2 id="structure">structure:</h2>
<ol class="newlevel">
	<li>Run server</li>
	<li>Navigate to	start page:
	<ol class="newlevel">
		<li>offers user choice to select or create a scenario
		<ol class="newlevel">
			<li><a href="#create">Create</a>
			– parameters stored in a new table or set of tables in the
			database. Loop back to 2.</li>
			<li><a href="#select">Select</a>-
			parameters for the chosen scenario are retrieved from the database
			progress to 3.</li>
		</ol>
	</ol>
	</li>
	<li>Generate starting balance sheets (conventional and non-financial)
	(<a href="#initialise">Initialise</a>)</li>
	<li>Start repetitions loop (using initial balance sheets)(<a href="#reps">Reps</a>)</li>
		<li>Start yearly loop (iterate using finishing balances of previous
		year) (<a href="#year">Year</a>)
        <ol>
			<li>Start monthly loop (iterate using finishing balances of previous
			month) (<a href="#month">Month</a>)
			<ol>
				<li>Generate
				random weather (monthly average) for current month based on
				climate parameters provided. (<a href="#weathergen">WeatherGen</a>)</li>
				<li>Run crop
				process (effect depends on weather, month, current crop status,
				and other balances) – this will affect various balances, cash
				flow, monthly profit and crop gross margins.(<a href="#maize">maize.monthly</a>)</li>
				<li>Run
				forage crop process (similar to main crop process)(<a href="#forage">forage.monthly</a>)</li>
				<li>Run
				livestock process (depends on weather, month,  current livestock
				status, and other balances) – livestock will be divided into
				separate herds including beef calves, followers, and dairy herd.
				– this will affect various balances, cash flow, monthly profit
				and livestock gross margins. (<a href="#dairy">dairy.monthly</a>)</li>
				<li>Run other
				processes necessary to update balances, cash flow, and profit and
				loss account. (<a href="#miscelaneous">financials.monthly</a>)</li>
				<li>If not
				the last month of the year go back to 4.1.1</li>
			</ol>
			</li>
			<li>Carry out end of year adjustments – e.g. depreciation, reinvestment
			(<a href="#capital">financials.capital</a>)</li>
			<li>If not
			the end of the simulation period go back to 4.1</li>
		</ol>
		<li>generate summary data (<a href="#sumarise">Sumarise</a>)</li>
		<li>if not the
		last repetition go back to 4</li>
	<li>generate
	graphs and figures e.g. frequency histogram of profit; correlation
	between rainfall in a given month and yield etc. (<a href="#analyse">Analyse</a>)</li>
	<li>present
	results to the user (<a href="#present">Present</a>)</li>
</ol>

<h2 id="create">Create:</h2>
<a href="#structure">Back to model structure</a>
<h2 id="select">Select:</h2>
<a href="#structure">Back to model structure</a>
<h2 id="initialise">Initialise:</h2>
<a href="#structure">Back to model structure</a>
<h2 id="reps">Reps:</h2>
<a href="#structure">Back to model structure</a>
<h2 id="year">Year:</h2>
<a href="#structure">Back to model structure</a>
<h2 id="month">Month:</h2>
<a href="#structure">Back to model structure</a>

<h2 id="weathergen">WeatherGen:</h2>
<h3 id="read_wg_file">.read_wg_file</h3>
<dl>
    <dt>file_path</dt><dd>folder(relative to project root), where weather data is stored</dd>
    <dt>prefix</dt><dd>prefix is the section of the file name prior to the run number see item 6 of section <a href="http://ukclimateprojections-ui.metoffice.gov.uk/ui/manual/manual.php?id=6.3.7">6.3.7</a> of the <a href="http://ukclimateprojections-ui.metoffice.gov.uk/ui/manual">UKCP09 user interface manual</a>
	"What is the Weather Generator output file naming convention?"</dd>
    <dt>suffix</dt><dd>suffix is the section of the file name after the run number, see refference above</dd>
    <dt>extension</dt><dd>file extension of the data file</dd>
</dl>

<a href="#structure">Back to model structure</a>

<h2 id="maize">Maize:</h2>
<h3>Inputs:</h3>
<p>current
month; accumulated heat since planting; months since planting; water
availability status; N P and K balances.</p>
<h3>Outputs:</h3>
<p>accumulated
heat since planting; months since planting; water availability
status; N P and K balances; Costs of fertiliser, labour, and crop
protection in given month; 
</p>
<a href="#structure">Back to model structure</a>

<h2 id="forage">forage:</h2>
<a href="#structure">Back to model structure</a>
<h2 id="dairy">dairy:</h2>
<a href="#structure">Back to model structure</a>
<h2 id="capital">capital:</h2>
<a href="#structure">Back to model structure</a>
<h2 id="miscellaneous">Miscellaneous:</h2>
<a href="#structure">Back to model structure</a>
<h2 id="sumarise">Sumarise:</h2>
<a href="#structure">Back to model structure</a>
<h2 id="analyse">Analyse:</h2>
<a href="#structure">Back to model structure</a>
<h2 id="present">Present:</h2>
<a href="#structure">Back to model structure</a>
</body>
</html>